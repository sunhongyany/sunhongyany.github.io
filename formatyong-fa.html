<!DOCTYPE html>
<html lang="en">
<head>
        <title>format用法</title>
        <link rel="icon" href="/theme/images/icons/application_file_python_128px_6585_easyicon.net.ico" type="text/css" />
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        <link href="/" type="application/atom+xml" rel="alternate" title="Stay hungry, stay foolish Flux ATOM" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie.css"/>
                <script src="/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/index.html">Stay hungry, stay foolish </a></h1>
                <nav><ul>
                <li><a href="/index.html">Accueil</a></li>
                <li><a href="/archives.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->

<section id="content" class="body">
<article>
        <header> <h1 class="entry-title"><a href="formatyong-fa.html"
        rel="bookmark" title="Permalink to format用法">format用法</a></h1>  </header>
        <div class="entry-content">
        <p>1.通过位置获取参数</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;{0}, {1}, {2}&#39;.format(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
&#39;a, b, c&#39;
&gt;&gt;&gt; &#39;{}, {}, {}&#39;.format(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)  # 3.1+ only
&#39;a, b, c&#39;
&gt;&gt;&gt; &#39;{2}, {1}, {0}&#39;.format(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
&#39;c, b, a&#39;
&gt;&gt;&gt; &#39;{2}, {1}, {0}&#39;.format(*&#39;abc&#39;)      # unpacking argument sequence
&#39;c, b, a&#39;
&gt;&gt;&gt; &#39;{0}{1}{0}&#39;.format(&#39;abra&#39;, &#39;cad&#39;)   # arguments&#39; indices can be repeated
&#39;abracadabra&#39;
</pre></div>


<p>2.通过名字获取参数</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;Coordinates: {latitude}, {longitude}&#39;.format(latitude=&#39;37.24N&#39;, longitude=&#39;-115.81W&#39;)
&#39;Coordinates: 37.24N, -115.81W&#39;
&gt;&gt;&gt; coord = {&#39;latitude&#39;: &#39;37.24N&#39;, &#39;longitude&#39;: &#39;-115.81W&#39;}
&gt;&gt;&gt; &#39;Coordinates: {latitude}, {longitude}&#39;.format(**coord)
&#39;Coordinates: 37.24N, -115.81W&#39;
</pre></div>


<p>3.获取参数的属性</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; c = 3-5j
&gt;&gt;&gt; (&#39;The complex number {0} is formed from the real part {0.real} &#39;
...  &#39;and the imaginary part {0.imag}.&#39;).format(c)
&#39;The complex number (3-5j) is formed from the real part 3.0 and the imaginary part -5.0.&#39;
&gt;&gt;&gt; class Point:
...     def __init__(self, x, y):
...         self.x, self.y = x, y
...     def __str__(self):
...         return &#39;Point({self.x}, {self.y})&#39;.format(self=self)
...
&gt;&gt;&gt; str(Point(4, 2))
&#39;Point(4, 2)&#39;
</pre></div>


<p>4.获取参数的所有项</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nt">coord</span> <span class="o">=</span> <span class="o">(</span><span class="nt">3</span><span class="o">,</span> <span class="nt">5</span><span class="o">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;X: {0</span><span class="cp">[</span><span class="mi">0</span><span class="cp">]</span><span class="s1">};  Y: {0</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="s1">}&#39;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="nt">coord</span><span class="o">)</span>
<span class="s1">&#39;X: 3;  Y: 5&#39;</span>
</pre></div>


<p>5.代替%r和%s</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;repr() shows quotes: {!r}; str() doesn&#39;t: {!s}&quot;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="s1">&#39;test1&#39;</span><span class="o">,</span> <span class="s1">&#39;test2&#39;</span><span class="o">)</span>
<span class="s2">&quot;repr() shows quotes: &#39;test1&#39;; str() doesn&#39;t: test2&quot;</span>
</pre></div>


<p>6.调整内容,指定宽度</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;{:&lt;30}&#39;.format(&#39;left aligned&#39;)
&#39;left aligned                  &#39;
&gt;&gt;&gt; &#39;{:&gt;30}&#39;.format(&#39;right aligned&#39;)
&#39;                 right aligned&#39;
&gt;&gt;&gt; &#39;{:^30}&#39;.format(&#39;centered&#39;)
&#39;           centered           &#39;
&gt;&gt;&gt; &#39;{:*^30}&#39;.format(&#39;centered&#39;)  # use &#39;*&#39; as a fill char
&#39;***********centered***********&#39;
</pre></div>


<p>7.代替%+f，%-f和%f,明确符号</p>
<div class="highlight"><pre><span></span><span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">&#39;{:+f}; {:+f}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">show</span> <span class="s s-Atom">it</span> <span class="s s-Atom">always</span>
<span class="s s-Atom">&#39;+3.140000; -3.140000&#39;</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">&#39;{: f}; {: f}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">show</span> <span class="s s-Atom">a</span> <span class="s s-Atom">space</span> <span class="s s-Atom">for</span> <span class="s s-Atom">positive</span> <span class="s s-Atom">numbers</span>
<span class="s s-Atom">&#39; 3.140000; -3.140000&#39;</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">&#39;{:-f}; {:-f}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">show</span> <span class="s s-Atom">only</span> <span class="s s-Atom">the</span> <span class="s s-Atom">minus</span> <span class="s s-Atom">--</span> <span class="s s-Atom">same</span> <span class="s s-Atom">as</span> <span class="s s-Atom">&#39;{:f}; {:f}&#39;</span>
<span class="s s-Atom">&#39;3.140000; -3.140000&#39;</span>
</pre></div>


<p>8.代替%o，%x，转换成不同进制的值</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="err">#</span> <span class="nt">format</span> <span class="nt">also</span> <span class="nt">supports</span> <span class="nt">binary</span> <span class="nt">numbers</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;int: {0:d};  hex: {0:x};  oct: {0:o};  bin: {0:b}&quot;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="nt">42</span><span class="o">)</span>
<span class="s1">&#39;int: 42;  hex: 2a;  oct: 52;  bin: 101010&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="err">#</span> <span class="nt">with</span> <span class="nt">0x</span><span class="o">,</span> <span class="nt">0o</span><span class="o">,</span> <span class="nt">or</span> <span class="nt">0b</span> <span class="nt">as</span> <span class="nt">prefix</span><span class="o">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;int: {0:d};  hex: {0:#x};  oct: {0:#o};  bin: {0:#b}&quot;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="nt">42</span><span class="o">)</span>
<span class="s1">&#39;int: 42;  hex: 0x2a;  oct: 0o52;  bin: 0b101010&#39;</span>
</pre></div>


<p>9.使用，作为千位分隔符</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;{:,}&#39;.format(1234567890)
&#39;1,234,567,890&#39;
</pre></div>


<p>10.表示一个百分数</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; points = 19
&gt;&gt;&gt; total = 22
&gt;&gt;&gt; &#39;Correct answers: {:.2%}&#39;.format(points/total)
&#39;Correct answers: 86.36%&#39;
</pre></div>


<p>11.使用特定的类型格式</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">58</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;{:%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="s1">&#39;2010-07-04 12:15:58&#39;</span>
</pre></div>


<p>12.嵌套参数和更复杂的示例</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; for align, text in zip(&#39;&lt;^&gt;&#39;, [&#39;left&#39;, &#39;center&#39;, &#39;right&#39;]):
...     &#39;{0:{fill}{align}16}&#39;.format(text, fill=align, align=align)
...
&#39;left&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&#39;
&#39;^^^^^center^^^^^&#39;
&#39;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;right&#39;
&gt;&gt;&gt;
&gt;&gt;&gt; octets = [192, 168, 0, 1]
&gt;&gt;&gt; &#39;{:02X}{:02X}{:02X}{:02X}&#39;.format(*octets)
&#39;C0A80001&#39;
&gt;&gt;&gt; int(_, 16)
3232235521
&gt;&gt;&gt;
&gt;&gt;&gt; width = 5
&gt;&gt;&gt; for num in range(5,12):
...     for base in &#39;dXob&#39;:
...         print(&#39;{0:{width}{base}}&#39;.format(num, base=base, width=width), end=&#39; &#39;)
...     print()
...
    5     5     5   101
    6     6     6   110
    7     7     7   111
    8     8    10  1000
    9     9    11  1001
   10     A    12  1010
   11     B    13  1011
</pre></div>
        </div><!-- /.entry-content -->

</article>
<footer class="post-info">
        <abbr class="published" title="2017-06-03T20:20:00+08:00">
            Publié le 星期六 03 六月 2017 &agrave; 20:20
        </abbr>
        <address class="vcard author">
                Par <a class="url fn" href="#">sunhongyan</a>
        </address>
        <p>Dans <a href="/category/python.html">python</a>.
</p></footer><!-- /.post-info -->
</section>

        <aside id="sidebar">
                <div class="widget">
                        <h2>Catégories</h2>
                        <ul>
                           <li ><a href="/category/git.html">git</a></li>
                           <li class="active"><a href="/category/python.html">python</a></li>
                           <li ><a href="/category/shell.html">shell</a></li>
                        </ul>
                </div>
        </aside><!-- /#sidebar -->

</body>
</html>