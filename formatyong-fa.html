<!DOCTYPE html>
<html lang="zh">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    <meta name="description" content="Stay hungry, stay foolish" />
    <title>
format用法 | 日迹    </title>
    <link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
    <link rel="stylesheet" type="text/css" href="/theme/css/pygment.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css" />
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <link rel="Shortcut Icon" type="image/x-icon" href="/theme/fav.ico" />
</head>

<body>
<div class="body_container">
    <div id="header">
        <div class="site-name">
            <a id="logo" href="/."> 日迹 </a>
            <p class="description"> Stay hungry, stay foolish </p>
        </div>
        <div id="nav-menu">
            <a href="/"><i class="fa fa-home"> 首页</i></a>
            <a href="/archives.html"><i class="fa fa-archive"> 文章归档</i></a>
        </div>
    </div>
    <div id="layout" class="pure-g">
        <div class="pure-u-1 pure-u-md-3-4"><div class="content_container">
<div class="post">
    <h1 class="post-title">format用法</h1>
    <div class="post-meta"> 6 03, 2017
    <span> | </span> <span>python</span>
    </div>
    <div class="post-content">
        <p>1.通过位置获取参数</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;{0}, {1}, {2}&#39;.format(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
&#39;a, b, c&#39;
&gt;&gt;&gt; &#39;{}, {}, {}&#39;.format(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)  # 3.1+ only
&#39;a, b, c&#39;
&gt;&gt;&gt; &#39;{2}, {1}, {0}&#39;.format(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
&#39;c, b, a&#39;
&gt;&gt;&gt; &#39;{2}, {1}, {0}&#39;.format(*&#39;abc&#39;)      # unpacking argument sequence
&#39;c, b, a&#39;
&gt;&gt;&gt; &#39;{0}{1}{0}&#39;.format(&#39;abra&#39;, &#39;cad&#39;)   # arguments&#39; indices can be repeated
&#39;abracadabra&#39;
</pre></div>


<p>2.通过名字获取参数</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;Coordinates: {latitude}, {longitude}&#39;.format(latitude=&#39;37.24N&#39;, longitude=&#39;-115.81W&#39;)
&#39;Coordinates: 37.24N, -115.81W&#39;
&gt;&gt;&gt; coord = {&#39;latitude&#39;: &#39;37.24N&#39;, &#39;longitude&#39;: &#39;-115.81W&#39;}
&gt;&gt;&gt; &#39;Coordinates: {latitude}, {longitude}&#39;.format(**coord)
&#39;Coordinates: 37.24N, -115.81W&#39;
</pre></div>


<p>3.获取参数的属性</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; c = 3-5j
&gt;&gt;&gt; (&#39;The complex number {0} is formed from the real part {0.real} &#39;
...  &#39;and the imaginary part {0.imag}.&#39;).format(c)
&#39;The complex number (3-5j) is formed from the real part 3.0 and the imaginary part -5.0.&#39;
&gt;&gt;&gt; class Point:
...     def __init__(self, x, y):
...         self.x, self.y = x, y
...     def __str__(self):
...         return &#39;Point({self.x}, {self.y})&#39;.format(self=self)
...
&gt;&gt;&gt; str(Point(4, 2))
&#39;Point(4, 2)&#39;
</pre></div>


<p>4.获取参数的所有项</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nt">coord</span> <span class="o">=</span> <span class="o">(</span><span class="nt">3</span><span class="o">,</span> <span class="nt">5</span><span class="o">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;X: {0</span><span class="cp">[</span><span class="mi">0</span><span class="cp">]</span><span class="s1">};  Y: {0</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="s1">}&#39;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="nt">coord</span><span class="o">)</span>
<span class="s1">&#39;X: 3;  Y: 5&#39;</span>
</pre></div>


<p>5.代替%r和%s</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;repr() shows quotes: {!r}; str() doesn&#39;t: {!s}&quot;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="s1">&#39;test1&#39;</span><span class="o">,</span> <span class="s1">&#39;test2&#39;</span><span class="o">)</span>
<span class="s2">&quot;repr() shows quotes: &#39;test1&#39;; str() doesn&#39;t: test2&quot;</span>
</pre></div>


<p>6.调整内容,指定宽度</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;{:&lt;30}&#39;.format(&#39;left aligned&#39;)
&#39;left aligned                  &#39;
&gt;&gt;&gt; &#39;{:&gt;30}&#39;.format(&#39;right aligned&#39;)
&#39;                 right aligned&#39;
&gt;&gt;&gt; &#39;{:^30}&#39;.format(&#39;centered&#39;)
&#39;           centered           &#39;
&gt;&gt;&gt; &#39;{:*^30}&#39;.format(&#39;centered&#39;)  # use &#39;*&#39; as a fill char
&#39;***********centered***********&#39;
</pre></div>


<p>7.代替%+f，%-f和%f,明确符号</p>
<div class="highlight"><pre><span></span><span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">&#39;{:+f}; {:+f}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">show</span> <span class="s s-Atom">it</span> <span class="s s-Atom">always</span>
<span class="s s-Atom">&#39;+3.140000; -3.140000&#39;</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">&#39;{: f}; {: f}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">show</span> <span class="s s-Atom">a</span> <span class="s s-Atom">space</span> <span class="s s-Atom">for</span> <span class="s s-Atom">positive</span> <span class="s s-Atom">numbers</span>
<span class="s s-Atom">&#39; 3.140000; -3.140000&#39;</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">&#39;{:-f}; {:-f}&#39;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="s s-Atom">#</span> <span class="s s-Atom">show</span> <span class="s s-Atom">only</span> <span class="s s-Atom">the</span> <span class="s s-Atom">minus</span> <span class="s s-Atom">--</span> <span class="s s-Atom">same</span> <span class="s s-Atom">as</span> <span class="s s-Atom">&#39;{:f}; {:f}&#39;</span>
<span class="s s-Atom">&#39;3.140000; -3.140000&#39;</span>
</pre></div>


<p>8.代替%o，%x，转换成不同进制的值</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="err">#</span> <span class="nt">format</span> <span class="nt">also</span> <span class="nt">supports</span> <span class="nt">binary</span> <span class="nt">numbers</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;int: {0:d};  hex: {0:x};  oct: {0:o};  bin: {0:b}&quot;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="nt">42</span><span class="o">)</span>
<span class="s1">&#39;int: 42;  hex: 2a;  oct: 52;  bin: 101010&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="err">#</span> <span class="nt">with</span> <span class="nt">0x</span><span class="o">,</span> <span class="nt">0o</span><span class="o">,</span> <span class="nt">or</span> <span class="nt">0b</span> <span class="nt">as</span> <span class="nt">prefix</span><span class="o">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;int: {0:d};  hex: {0:#x};  oct: {0:#o};  bin: {0:#b}&quot;</span><span class="p">.</span><span class="nc">format</span><span class="o">(</span><span class="nt">42</span><span class="o">)</span>
<span class="s1">&#39;int: 42;  hex: 0x2a;  oct: 0o52;  bin: 0b101010&#39;</span>
</pre></div>


<p>9.使用，作为千位分隔符</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; &#39;{:,}&#39;.format(1234567890)
&#39;1,234,567,890&#39;
</pre></div>


<p>10.表示一个百分数</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; points = 19
&gt;&gt;&gt; total = 22
&gt;&gt;&gt; &#39;Correct answers: {:.2%}&#39;.format(points/total)
&#39;Correct answers: 86.36%&#39;
</pre></div>


<p>11.使用特定的类型格式</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">58</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;{:%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="s1">&#39;2010-07-04 12:15:58&#39;</span>
</pre></div>


<p>12.嵌套参数和更复杂的示例</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; for align, text in zip(&#39;&lt;^&gt;&#39;, [&#39;left&#39;, &#39;center&#39;, &#39;right&#39;]):
...     &#39;{0:{fill}{align}16}&#39;.format(text, fill=align, align=align)
...
&#39;left&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&#39;
&#39;^^^^^center^^^^^&#39;
&#39;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;right&#39;
&gt;&gt;&gt;
&gt;&gt;&gt; octets = [192, 168, 0, 1]
&gt;&gt;&gt; &#39;{:02X}{:02X}{:02X}{:02X}&#39;.format(*octets)
&#39;C0A80001&#39;
&gt;&gt;&gt; int(_, 16)
3232235521
&gt;&gt;&gt;
&gt;&gt;&gt; width = 5
&gt;&gt;&gt; for num in range(5,12):
...     for base in &#39;dXob&#39;:
...         print(&#39;{0:{width}{base}}&#39;.format(num, base=base, width=width), end=&#39; &#39;)
...     print()
...
    5     5     5   101
    6     6     6   110
    7     7     7   111
    8     8    10  1000
    9     9    11  1001
   10     A    12  1010
   11     B    13  1011
</pre></div>



    </div>
</div>
        </div></div>
        <div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar">
<div class="widget">
    <form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form">
        <input type="text" name="q" maxlength="20" placeholder="Search"/>
        <input type="hidden" name="sitesearch" value=""/>
    </form>
</div><div class="widget">
    <div class="widget-title">
        <i class="fa fa-folder-o"> Categories</i>
    </div>
    <ul class="category-list">
        <li class="category-list-item"><a class="category-list-link" href="/category/git.html">git</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/javascript.html">JavaScript</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/js.html">JS</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/pelican.html">Pelican</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/python.html">python</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/shell.html">shell</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/tornado.html">Tornado</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/wang-luo.html">网络</a></li>
    </ul>
</div><div class="widget">
    <div class="widget-title"><i class="fa fa-star-o"> Tags</i></div>
    <div class="tagcloud">
    </div>
</div><div class="widget">
    <div class="widget-title"><i class="fa fa-file-o"> Recent</i></div>
    <ul class="post-list">
        <li class="post-list-item">
        <a class="post-list-link" href="/property.html">property</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/etag.html">ETag</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/urllibzhong-de-quotehan-shu.html">urllib中的quote函数</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/shi-li-shu-xing-he-yuan-xing-shu-xing.html">实例属性和原型属性</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/websocket.html">WebSocket</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/jszhong-ge-chong-diao-yong-fang-shi.html">js中各种调用方式</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/tornadoyi-bu.html">Tornado异步</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/argumentscan-shu.html">arguments参数</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/thiscan-shu.html">this参数</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/han-shu-zuo-yong-yu-yu-kuai-zuo-yong-yu.html">函数作用域与块作用域</a>
        </li>
    </ul>
</div>        </div></div>
        <div class="pure-u-1 pure-u-md-3-4">
<div id="footer">Copyright © 2018 <a href="/." rel="nofollow">日迹.</a> Powered by <a rel="nofollow" target="_blank" href="https://getpelican.com/">Pelican</a> and <a rel="nofollow", target="_blank", href="https://github.com/wormtooth/maupassant-pelican">maupassant</a>.</div>        </div>
    </div>

<a id="rocket" href="#top" class="show"></a>
<script type="text/javascript" src="/theme/js/totop.js" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script>
<script type="text/javascript" src="/theme/js/fancybox.js" async></script>
<link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css" />

</body>