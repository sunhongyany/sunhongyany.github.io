<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>Stay hungry, stay foolish - sunhongyan</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Stay hungry, stay foolish </a></h1>
                <nav><ul>
                    <li><a href="/archives.html">文章归档</a></li>
                    <li><a href="/category.html">文章分类</a></li>
                </ul></nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="2">
            <li><article class="hentry">
                <header>
                    <h1><a href="/tornadoyi-bu.html" rel="bookmark"
                           title="Permalink to Tornado异步">Tornado异步</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-06T21:30:00+08:00">
                Published: 三 06 九月 2017
        </abbr>


</footer><!-- /.post-info -->                <p>因为epoll主要是用来解决网络IO的并发问题，所以Tornado的异步编程也主要体现在网络IO的异步上，即异步Web请求。</p>
<ol>
<li>tornado.httpclient.AsyncHTTPClient</li>
</ol>
<p>Tornado提供了一个异步Web请求客户端tornado.httpclient.AsyncHTTPClient用来进行异步Web请求。</p>
<p>fetch(request, callback=None)</p>
<p>用于执行一个web请求request，并异步返回一个tornado.httpclient.HTTPResponse响应。</p>
<p>request可以是一个url，也可以是一个tornado.httpclient.HTTPRequest对象。如果是url，fetch会自己构造一个HTTPRequest对象。</p>
<p>HTTPRequest</p>
<p>HTTP请求类，HTTPRequest的构造函数可以接收众多构造参数，最常用的如下：</p>
<ul>
<li>url (string) – 要访问的url，此参数必传，除此之外均为可选参数</li>
<li>method (string) – HTTP访问方式，如“GET”或“POST”，默认为GET方式</li>
<li>headers (HTTPHeaders or dict) – 附加的HTTP协议头</li>
<li>body – HTTP请求的请求体</li>
</ul>
<p>HTTPResponse</p>
<p>HTTP响应类，其常用属性如下 …</p>
                <a class="readmore" href="/tornadoyi-bu.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/argumentscan-shu.html" rel="bookmark"
                           title="Permalink to arguments参数">arguments参数</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-06T20:30:00+08:00">
                Published: 三 06 九月 2017
        </abbr>


</footer><!-- /.post-info -->                <p>arguments参数是传递给函数的所有参数的集合。这个集合有个名为length的属性，它包含了参数的个数。</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">total</span> <span class="o">+=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span>    <span class="c1">// 打印出10</span>
</pre></div>


<p>arguments类似数组，可以用下面的方法将其转化成数组：</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
</pre></div>
                <a class="readmore" href="/argumentscan-shu.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/thiscan-shu.html" rel="bookmark"
                           title="Permalink to this参数">this参数</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-06T20:30:00+08:00">
                Published: 三 06 九月 2017
        </abbr>


</footer><!-- /.post-info -->                <p>this参数指向一个与此次函数调用相关联的对象，该对象称为函数上下文。</p>
                <a class="readmore" href="/thiscan-shu.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="/author/sunhongyan2.html">&laquo;</a>
    Page 3 / 18
        <a href="/author/sunhongyan4.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

</body>
</html>