<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>Stay hungry, stay foolish - sunhongyan</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Stay hungry, stay foolish </a></h1>
                <nav><ul>
                    <li><a href="/archives.html">文章归档</a></li>
                    <li><a href="/category.html">文章分类</a></li>
                </ul></nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="2">
            <li><article class="hentry">
                <header>
                    <h1><a href="/han-shu-zuo-yong-yu-yu-kuai-zuo-yong-yu.html" rel="bookmark"
                           title="Permalink to 函数作用域与块作用域">函数作用域与块作用域</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-05T20:30:00+08:00">
                Published: 二 05 九月 2017
        </abbr>


</footer><!-- /.post-info -->                <p>JS变量以函数作为作用域。</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">bar</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>JS没有块作用域的概念，ES6引入了关键字let，可以用于生成传统的块作用域。</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// b是该代码块的局部变量</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>    <span class="c1">// ReferenceError </span>
</pre></div>


<p>思考下面代码将会输出什么？</p>
<div class="highlight"><pre><span></span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
</pre></div>


<p>将会输出1，原因是在JS中声明会被提升，但是赋值和其他可执行的逻辑依然保留在原位置，上面的代码片段实际是这样执行的：</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log …</span></pre></div>
                <a class="readmore" href="/han-shu-zuo-yong-yu-yu-kuai-zuo-yong-yu.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/javascriptbiao-zhun-lei-xing.html" rel="bookmark"
                           title="Permalink to JavaScript标准类型">JavaScript标准类型</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-05T20:30:00+08:00">
                Published: 二 05 九月 2017
        </abbr>


</footer><!-- /.post-info -->                <p>JavaScript支持以下标准类型:</p>
<ul>
<li>Number(数值)</li>
<li>String(字符串)</li>
<li>Boolean(布尔)</li>
<li>Symbol(ES6中的新类型，符号)</li>
<li>Object(对象)<ul>
<li>Function(函数)</li>
<li>Array(数组)</li>
<li>Date(日期)</li>
<li>RegExp(正则表达式)</li>
</ul>
</li>
<li>Null(空)</li>
<li>Undefined(未定义)</li>
</ul>
                <a class="readmore" href="/javascriptbiao-zhun-lei-xing.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/jsbi-bao.html" rel="bookmark"
                           title="Permalink to js闭包">js闭包</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-05T20:30:00+08:00">
                Published: 二 05 九月 2017
        </abbr>


</footer><!-- /.post-info -->                <div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">outer</span> <span class="o">=</span> <span class="s2">&quot;outer&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">copy</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">OuterFn</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">inner</span> <span class="o">=</span> <span class="s2">&quot;inner&quot;</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">InnerFn</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">inner</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">outer</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">copy</span> <span class="o">=</span> <span class="nx">InnerFn</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">OuterFn</span><span class="p">();</span>
<span class="nx">copy</span><span class="p">();</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">outer</span> <span class="o">=</span> <span class="s2">&quot;outer&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">copy</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">OuterFn</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">inner</span> <span class="o">=</span> <span class="s2">&quot;inner&quot;</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">InnerFn</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">inner</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">outer</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">magic</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">copy</span> <span class="o">=</span> <span class="nx">InnerFn</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console …</span></pre></div>
                <a class="readmore" href="/jsbi-bao.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="/author/sunhongyan3.html">&laquo;</a>
    Page 4 / 18
        <a href="/author/sunhongyan5.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

</body>
</html>