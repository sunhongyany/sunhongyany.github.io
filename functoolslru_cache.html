<!DOCTYPE html>
<html lang="zh">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    <meta name="description" content="Stay hungry, stay foolish" />
    <title>
functools.lru_cache | 日迹    </title>
    <link rel="stylesheet" type="text/css" href="/../theme/css/style.css" />
    <link rel="stylesheet" type="text/css" href="/../theme/css/pygment.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css" />
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <link rel="Shortcut Icon" type="image/x-icon" href="/../theme/fav.ico" />
</head>

<body>
<div class="body_container">
    <div id="header">
        <div class="site-name">
            <a id="logo" href="/."> 日迹 </a>
            <p class="description"> Stay hungry, stay foolish </p>
        </div>
        <div id="nav-menu">
            <a href="/"><i class="fa fa-home"> 首页</i></a>
            <a href="/archives.html"><i class="fa fa-archive"> 文章归档</i></a>
        </div>
    </div>
    <div id="layout" class="pure-g">
        <div class="pure-u-1 pure-u-md-3-4"><div class="content_container">
<div class="post">
    <h1 class="post-title">functools.lru_cache</h1>
    <div class="post-meta"> 6 25, 2017
    <span> | </span> <span>python</span>
    </div>
    <div class="post-content">
        <p>functools.lru_cache实现了备忘功能，他把耗时的函数结果保存起来，避免传入相同的参数时重复计</p>
<p>算。</p>
<p>斐波拉契数列很耗时，此时用functools.lru_cache最好。</p>
<p>首先定义一个计时器。然后计算没有用functools.lru_cache的用时的耗时，最后计算用了</p>
<p>functools.lru_cache的耗时。</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">77</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">time</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">78</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">functools</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">79</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="nd">@functools.wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">def</span> <span class="nf">clock</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>         <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="o">...</span><span class="p">:</span>         <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>         <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>             <span class="n">arg_str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">else</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>             <span class="n">arg_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">=</span><span class="si">%r</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())]</span>
    <span class="o">...</span><span class="p">:</span>             <span class="n">arg_str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">arg_list</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">print</span><span class="p">(</span><span class="s1">&#39;[</span><span class="si">%0.8f</span><span class="s1">s] </span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">) -&gt; </span><span class="si">%r</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">elapsed</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">arg_str</span><span class="p">,</span> <span class="n">result</span><span class="p">))</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">result</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="n">clock</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">80</span><span class="p">]:</span> <span class="nd">@timer</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">if</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">n</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">else</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">81</span><span class="p">]:</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="p">[</span><span class="mf">0.00000057</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000083</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000080</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00004263</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00013928</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
<span class="p">[</span><span class="mf">0.00000069</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000093</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00003494</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000070</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000081</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000088</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00003424</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00006857</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
<span class="p">[</span><span class="mf">0.00013949</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">3</span>
<span class="p">[</span><span class="mf">0.00031221</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">5</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">81</span><span class="p">]:</span> <span class="mi">5</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">82</span><span class="p">]:</span> <span class="nd">@functools.lru_cache</span><span class="p">()</span>
    <span class="o">...</span><span class="p">:</span> <span class="nd">@timer</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">if</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">n</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">else</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">83</span><span class="p">]:</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="p">[</span><span class="mf">0.00000048</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000066</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00003910</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000111</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
<span class="p">[</span><span class="mf">0.00005868</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">3</span>
<span class="p">[</span><span class="mf">0.00000083</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">5</span>
<span class="p">[</span><span class="mf">0.00007846</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">8</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">83</span><span class="p">]:</span> <span class="mi">8</span>
</pre></div>


<p>可以看出利用了functools.lru_cache调用次数变少，因为他把调用过的结果都保存了起来。</p>
<p>lru_cache有两个可选的参数，他的签名是：functools.lru_cache(maxsize=128, typed=false)</p>
<p>maxsize指定缓存多少个调用结果, 缓存满了之后，旧的值会被扔掉，腾出空间，为了得到最佳性能，</p>
<p>maxsize应设为2的幂。typed被设为true，把不同的参数类型得到的结果分开保存，即认为相等的1和</p>
<p>1.0区分开。lru_cache使用字典存储结果，而且键根据调用时传入的定位参数和关键字参数创建，所</p>
<p>以被lru_cache装饰的函数，它的所有参数都是可散列的。</p>
<p>假设我们要生成调试web 应用的工具，我们想生成THML，显示不同类型的python对象。</p>
<p>可以定义如下函数：</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">86</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">html</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">87</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">htmlize</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">content</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;pre&gt;{}&lt;/pre&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>
</pre></div>


<p>这个程序适用于任何python类型，但是现在要求以特别的方式显示某些类型。</p>
<p>str：把内部的换行符替换为<code>'&lt;br&gt;\n';</code>不使用<code>&lt;pre&gt;</code>,使用<code>&lt;p&gt;</code>。</p>
<p>int：以十进制和十六进制显示数字。</p>
<p>list：输出一个html列表，根据各个元素的类型进行格式化。</p>
<p>python不支持重载方法和函数，所以我们不能使用不同的签名来定义html变体，也无法使用不同的方式处</p>
<p>理不同的数据类型，在python中一种常见的做法是把html变成一个分派函数，使用一串if／elif调用专门</p>
<p>的函数，这样不便于用户模块的扩展，还显得笨拙，时间一长，分派函数htmlize会变得很大，而且会与各</p>
<p>个专门函数之间的耦合很紧密。</p>
<p>functools.singledispatch装饰器可以把整体方案拆分成多个模块，甚至可以为你无法修改的函数提供专门</p>
<p>的函数。使用@singledispatch装饰的普通函数会变成泛函数。</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">89</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">singledispatch</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">90</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">abc</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">91</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">numbers</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">92</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">html</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">93</span><span class="p">]:</span> <span class="nd">@singledispatch</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">htmlize</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">content</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;pre&gt;{}&lt;pre&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">94</span><span class="p">]:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">content</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;p&gt;{}&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">95</span><span class="p">]:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;pre&gt;{0} (0x{0: x})&lt;/pre&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">96</span><span class="p">]:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">inner</span> <span class="o">=</span> <span class="s1">&#39;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">htmlize</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;ul&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&#39;</span> <span class="o">+</span> <span class="n">inner</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;/ul&gt;&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">99</span><span class="p">]:</span> <span class="n">htmlize</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">})</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">99</span><span class="p">]:</span> <span class="s1">&#39;&lt;pre&gt;{1, 2, 3}&lt;pre&gt;&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">102</span><span class="p">]:</span> <span class="n">htmlize</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">102</span><span class="p">]:</span> <span class="s1">&#39;&lt;pre&gt;12 (0xc)&lt;/pre&gt;&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">103</span><span class="p">]:</span> <span class="n">htmlize</span><span class="p">([</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}])</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">103</span><span class="p">]:</span> <span class="s1">&#39;&lt;ul&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&lt;p&gt;q&lt;/p&gt;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&lt;pre&gt;12 (0xc)&lt;/pre&gt;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&lt;pre&gt;{1, 2, 3}</span>
<span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>\<span class="n">n</span><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span><span class="s1">&#39;</span>
</pre></div>



    </div>
</div>
        </div></div>
        <div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar">
<div class="widget">
    <form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form">
        <input type="text" name="q" maxlength="20" placeholder="Search"/>
        <input type="hidden" name="sitesearch" value=""/>
    </form>
</div><div class="widget">
    <div class="widget-title">
        <i class="fa fa-folder-o"> Categories</i>
    </div>
    <ul class="category-list">
        <li class="category-list-item"><a class="category-list-link" href="/category/git.html">git</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/javascript.html">JavaScript</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/js.html">JS</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/pelican.html">Pelican</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/python.html">python</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/shell.html">shell</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/tornado.html">Tornado</a></li>
        <li class="category-list-item"><a class="category-list-link" href="/category/wang-luo.html">网络</a></li>
    </ul>
</div><div class="widget">
    <div class="widget-title"><i class="fa fa-star-o"> Tags</i></div>
    <div class="tagcloud">
    </div>
</div><div class="widget">
    <div class="widget-title"><i class="fa fa-file-o"> Recent</i></div>
    <ul class="post-list">
        <li class="post-list-item">
        <a class="post-list-link" href="/property.html">property</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/etag.html">ETag</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/urllibzhong-de-quotehan-shu.html">urllib中的quote函数</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/shi-li-shu-xing-he-yuan-xing-shu-xing.html">实例属性和原型属性</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/websocket.html">WebSocket</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/jszhong-ge-chong-diao-yong-fang-shi.html">js中各种调用方式</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/tornadoyi-bu.html">Tornado异步</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/argumentscan-shu.html">arguments参数</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/thiscan-shu.html">this参数</a>
        </li>
        <li class="post-list-item">
        <a class="post-list-link" href="/han-shu-zuo-yong-yu-yu-kuai-zuo-yong-yu.html">函数作用域与块作用域</a>
        </li>
    </ul>
</div>        </div></div>
        <div class="pure-u-1 pure-u-md-3-4">
<div id="footer">Copyright © 2018 <a href="/." rel="nofollow">日迹.</a> Powered by <a rel="nofollow" target="_blank" href="https://getpelican.com/">Pelican</a> and <a rel="nofollow", target="_blank", href="https://github.com/wormtooth/maupassant-pelican">maupassant</a>.</div>        </div>
    </div>

<a id="rocket" href="#top" class="show"></a>
<script type="text/javascript" src="/theme/js/totop.js" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script>
<script type="text/javascript" src="/theme/js/fancybox.js" async></script>
<link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css" />

</body>