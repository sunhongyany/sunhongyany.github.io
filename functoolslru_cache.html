<!DOCTYPE html>
<html lang="en">
<head>
        <title>functools.lru_cache</title>
        <link rel="icon" href="/theme/images/icons/application_file_python_128px_6585_easyicon.net.ico" type="text/css" />
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        <link href="/" type="application/atom+xml" rel="alternate" title="Stay hungry, stay foolish Flux ATOM" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie.css"/>
                <script src="/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/index.html">Stay hungry, stay foolish </a></h1>
                <nav><ul>
                <li><a href="/index.html">Accueil</a></li>
                <li><a href="/archives.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->

<section id="content" class="body">
<article>
        <header> <h1 class="entry-title"><a href="functoolslru_cache.html"
        rel="bookmark" title="Permalink to functools.lru_cache">functools.lru_cache</a></h1>  </header>
        <div class="entry-content">
        <p>functools.lru_cache实现了备忘功能，他把耗时的函数结果保存起来，避免传入相同的参数时重复计</p>
<p>算。</p>
<p>斐波拉契数列很耗时，此时用functools.lru_cache最好。</p>
<p>首先定义一个计时器。然后计算没有用functools.lru_cache的用时的耗时，最后计算用了</p>
<p>functools.lru_cache的耗时。</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">77</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">time</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">78</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">functools</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">79</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="nd">@functools.wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">def</span> <span class="nf">clock</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>         <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
    <span class="o">...</span><span class="p">:</span>         <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>         <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>             <span class="n">arg_str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">else</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>             <span class="n">arg_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">=</span><span class="si">%r</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())]</span>
    <span class="o">...</span><span class="p">:</span>             <span class="n">arg_str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">arg_list</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">print</span><span class="p">(</span><span class="s1">&#39;[</span><span class="si">%0.8f</span><span class="s1">s] </span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">) -&gt; </span><span class="si">%r</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">elapsed</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">arg_str</span><span class="p">,</span> <span class="n">result</span><span class="p">))</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">result</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="n">clock</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">80</span><span class="p">]:</span> <span class="nd">@timer</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">if</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">n</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">else</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">81</span><span class="p">]:</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="p">[</span><span class="mf">0.00000057</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000083</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000080</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00004263</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00013928</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
<span class="p">[</span><span class="mf">0.00000069</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000093</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00003494</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000070</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000081</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000088</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00003424</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00006857</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
<span class="p">[</span><span class="mf">0.00013949</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">3</span>
<span class="p">[</span><span class="mf">0.00031221</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">5</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">81</span><span class="p">]:</span> <span class="mi">5</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">82</span><span class="p">]:</span> <span class="nd">@functools.lru_cache</span><span class="p">()</span>
    <span class="o">...</span><span class="p">:</span> <span class="nd">@timer</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">if</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">n</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">else</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>         <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">83</span><span class="p">]:</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="p">[</span><span class="mf">0.00000048</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span>
<span class="p">[</span><span class="mf">0.00000066</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00003910</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
<span class="p">[</span><span class="mf">0.00000111</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
<span class="p">[</span><span class="mf">0.00005868</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">3</span>
<span class="p">[</span><span class="mf">0.00000083</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">5</span>
<span class="p">[</span><span class="mf">0.00007846</span><span class="n">s</span><span class="p">]</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">8</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">83</span><span class="p">]:</span> <span class="mi">8</span>
</pre></div>


<p>可以看出利用了functools.lru_cache调用次数变少，因为他把调用过的结果都保存了起来。</p>
<p>lru_cache有两个可选的参数，他的签名是：functools.lru_cache(maxsize=128, typed=false)</p>
<p>maxsize指定缓存多少个调用结果, 缓存满了之后，旧的值会被扔掉，腾出空间，为了得到最佳性能，</p>
<p>maxsize应设为2的幂。typed被设为true，把不同的参数类型得到的结果分开保存，即认为相等的1和</p>
<p>1.0区分开。lru_cache使用字典存储结果，而且键根据调用时传入的定位参数和关键字参数创建，所</p>
<p>以被lru_cache装饰的函数，它的所有参数都是可散列的。</p>
<p>假设我们要生成调试web 应用的工具，我们想生成THML，显示不同类型的python对象。</p>
<p>可以定义如下函数：</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">86</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">html</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">87</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">htmlize</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">content</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;pre&gt;{}&lt;/pre&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>
</pre></div>


<p>这个程序适用于任何python类型，但是现在要求以特别的方式显示某些类型。</p>
<p>str：把内部的换行符替换为<code>'&lt;br&gt;\n';</code>不使用<code>&lt;pre&gt;</code>,使用<code>&lt;p&gt;</code>。</p>
<p>int：以十进制和十六进制显示数字。</p>
<p>list：输出一个html列表，根据各个元素的类型进行格式化。</p>
<p>python不支持重载方法和函数，所以我们不能使用不同的签名来定义html变体，也无法使用不同的方式处</p>
<p>理不同的数据类型，在python中一种常见的做法是把html变成一个分派函数，使用一串if／elif调用专门</p>
<p>的函数，这样不便于用户模块的扩展，还显得笨拙，时间一长，分派函数htmlize会变得很大，而且会与各</p>
<p>个专门函数之间的耦合很紧密。</p>
<p>functools.singledispatch装饰器可以把整体方案拆分成多个模块，甚至可以为你无法修改的函数提供专门</p>
<p>的函数。使用@singledispatch装饰的普通函数会变成泛函数。</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">89</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">singledispatch</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">90</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">abc</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">91</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">numbers</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">92</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">html</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">93</span><span class="p">]:</span> <span class="nd">@singledispatch</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">htmlize</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">content</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;pre&gt;{}&lt;pre&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">94</span><span class="p">]:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">content</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;p&gt;{}&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">95</span><span class="p">]:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;pre&gt;{0} (0x{0: x})&lt;/pre&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">96</span><span class="p">]:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="nd">@htmlize.register</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">inner</span> <span class="o">=</span> <span class="s1">&#39;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">htmlize</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="s1">&#39;&lt;ul&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&#39;</span> <span class="o">+</span> <span class="n">inner</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;/ul&gt;&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">99</span><span class="p">]:</span> <span class="n">htmlize</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">})</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">99</span><span class="p">]:</span> <span class="s1">&#39;&lt;pre&gt;{1, 2, 3}&lt;pre&gt;&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">102</span><span class="p">]:</span> <span class="n">htmlize</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">102</span><span class="p">]:</span> <span class="s1">&#39;&lt;pre&gt;12 (0xc)&lt;/pre&gt;&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">103</span><span class="p">]:</span> <span class="n">htmlize</span><span class="p">([</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}])</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">103</span><span class="p">]:</span> <span class="s1">&#39;&lt;ul&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&lt;p&gt;q&lt;/p&gt;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&lt;pre&gt;12 (0xc)&lt;/pre&gt;&lt;/li&gt;</span><span class="se">\n</span><span class="s1">&lt;li&gt;&lt;pre&gt;{1, 2, 3}</span>
<span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>\<span class="n">n</span><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span><span class="s1">&#39;</span>
</pre></div>
        </div><!-- /.entry-content -->

</article>
<footer class="post-info">
        <abbr class="published" title="2017-06-25T20:30:00+08:00">
            Publié le 星期日 25 六月 2017 &agrave; 20:30
        </abbr>
        <address class="vcard author">
                Par <a class="url fn" href="#">sunhongyan</a>
        </address>
        <p>Dans <a href="/category/python.html">python</a>.
</p></footer><!-- /.post-info -->
</section>

        <aside id="sidebar">
                <div class="widget">
                        <h2>Catégories</h2>
                        <ul>
                           <li ><a href="/category/git.html">git</a></li>
                           <li class="active"><a href="/category/python.html">python</a></li>
                           <li ><a href="/category/shell.html">shell</a></li>
                           <li ><a href="/category/tornado.html">tornado</a></li>
                           <li ><a href="/category/wang-luo.html">网络</a></li>
                        </ul>
                </div>
        </aside><!-- /#sidebar -->

</body>
</html>